CREATE TABLE MIS.GATEWAY_ACTIVITY_LOG
(
  ID                   NUMBER                   NOT NULL,
  TRANSACTION_TIME     DATE                     NOT NULL,
  TRANSACTION_TYPE     VARCHAR2(30 BYTE)        NOT NULL,
  GATEWAY              VARCHAR2(25 BYTE)        NOT NULL,
  MERCHANT             VARCHAR2(25 BYTE),
  PROFILE_ID           VARCHAR2(22 BYTE),
  CUSTOMER_ID          VARCHAR2(25 BYTE),
  PAYMENT_TYPE         VARCHAR2(20 BYTE),
  CARD_TYPE            VARCHAR2(20 BYTE),
  BANK_ACCOUNT_TYPE    VARCHAR2(20 BYTE),
  ACCOUNT_NUM_LAST4    VARCHAR2(4 BYTE),
  EXP_DATE             DATE,
  CUSTOMER_NAME        VARCHAR2(30 BYTE),
  CUSTOMER_ADDRESS1    VARCHAR2(30 BYTE),
  CUSTOMER_ADDRESS2    VARCHAR2(30 BYTE),
  CUSTOMER_CITY        VARCHAR2(20 BYTE),
  CUSTOMER_STATE       VARCHAR2(2 BYTE),
  CUSTOMER_ZIP         VARCHAR2(10 BYTE),
  CUSTOMER_COUNTRY     VARCHAR2(30 BYTE),
  ORDER_ID             VARCHAR2(30 BYTE),
  TX_REF_NUM           VARCHAR2(40 BYTE),
  TX_REF_IDX           VARCHAR2(4 BYTE),
  IS_PROCESSED         VARCHAR2(1 BYTE),
  IS_APPROVED          VARCHAR2(1 BYTE),
  IS_DECLINED          VARCHAR2(1 BYTE),
  IS_PROCESSING_ERROR  VARCHAR2(1 BYTE),
  AUTH_CODE            VARCHAR2(6 BYTE),
  IS_AVS_MATCH         VARCHAR2(1 BYTE),
  IS_CVV_MATCH         VARCHAR2(1 BYTE),
  AVS_RESPONSE_CODE    VARCHAR2(2 BYTE),
  CVV_RESPONSE_CODE    VARCHAR2(1 BYTE),
  RESPONSE_CODE        VARCHAR2(6 BYTE),
  RESPONSE_CODE_ALT    VARCHAR2(6 BYTE),
  STATUS_CODE          VARCHAR2(10 BYTE),
  STATUS_MSG           VARCHAR2(250 BYTE),
  AMOUNT               FLOAT(126)
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE UNIQUE INDEX MIS.GATEWAY_ACTIVITY_LOG_PK ON MIS.GATEWAY_ACTIVITY_LOG
(ID)
LOGGING
TABLESPACE USERS
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


CREATE INDEX MIS.IDX_CUSTOMER ON MIS.GATEWAY_ACTIVITY_LOG
(CUSTOMER_ID)
LOGGING
TABLESPACE USERS
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


CREATE INDEX MIS.IDX_GATEWAYTRANSDATETIME ON MIS.GATEWAY_ACTIVITY_LOG
(TRANSACTION_TIME)
LOGGING
TABLESPACE USERS
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


CREATE INDEX MIS.IDX_ORDER_ID ON MIS.GATEWAY_ACTIVITY_LOG
(ORDER_ID)
LOGGING
TABLESPACE USERS
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


GRANT DELETE, INSERT, SELECT, UPDATE ON MIS.GATEWAY_ACTIVITY_LOG TO FDSTORE_PRDA;