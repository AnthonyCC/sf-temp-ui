Insert into DLV.DEPOT(ID, NAME, REGISTRATION_CODE, REGION_ID, DEPOT_CODE, CUST_SERV_EMAIL, PICKUP)
Values
(dlv.system_seq.nextval, 'Hamptons Summer Pickup', 'fd2330', (select X.ID from DLV.REGION x where X.name = 'FreshDirect Pickup') , 'HAMSUMMERPICKUP','service@freshdirect.com', 'X');

Insert into DLV.LOCATION
(ID, DEPOT_ID, START_DATE, END_DATE, FACILITY, ADDRESS1, ADDRESS2, CITY, STATE, ZIPCODE, INSTRUCTIONS, ZONE_CODE, DELIVERY_CHARGE_WAIVED, APARTMENT)
Values
(dlv.system_seq.nextval, (SELECT D.ID FROM DLV.DEPOT d where D.DEPOT_CODE = 'HAMSUMMERPICKUP')
, TO_DATE('04/22/2015 00:00:00', 'MM/DD/YYYY HH24:MI:SS'), TO_DATE('05/16/2099 00:00:00', 'MM/DD/YYYY HH24:MI:SS')
, 'Hamptons Pickup', '4195 MIDDLE COUNTRY RD', NULL, 'Calverton', 'NY', '11933', NULL, '980', 'X', NULL);

insert into dlv.zone_desc values ('980', ' ');

insert into DLV.ZONE
(ID, NAME, GEOLOC, ZONE_CODE, REGION_DATA_ID, PLAN_ID, CT_ACTIVE, CT_RELEASE_TIME)
Values
(dlv.system_seq.nextval, 'Hamptons Pickup 980',
"MDSYS"."SDO_GEOMETRY"(2003,8265,
"MDSYS"."SDO_POINT_TYPE"(-72.767731, 40.924412,NULL),
"MDSYS"."SDO_ELEM_INFO_ARRAY"(1,1003,3),
"MDSYS"."SDO_ORDINATE_ARRAY"(-72.767731, 40.924412,-72.767731, 40.924412))
, '980'
, (select rd.ID from DLV.REGION r , DLV.REGION_DATA rd where R.NAME = 'FreshDirect Pickup' and R.ID = RD.REGION_ID and RD.START_DATE = (select max(start_date) from DLV.REGION_DATA rx where RX.REGION_ID = R.ID ))
, (select X.PLAN_ID from dlv.ZONE x where X.ZONE_CODE = '922' and X.REGION_DATA_ID = (select rd.id from DLV.REGION r , DLV.REGION_DATA rd where R.NAME = 'FreshDirect Pickup' and R.ID = RD.REGION_ID and RD.START_DATE = (select max(start_date) from DLV.REGION_DATA rx where RX.REGION_ID = R.ID )))
, ' '
, 0);

insert into transp.TRN_AREA select '980', 'Zone 980', 'Zone 980', ACTIVE, PREFIX, DELIVERYMODEL, BALANCE_BY, LOADBALANCE_FACTOR, NEEDS_LOADBALANCE, IS_DEPOT, DELIVERY_RATE, REGION_CODE from transp.TRN_AREA a where a.CODE = '922';

insert into TRANSP.ZONE select '980', 'Zone 980', UNATTENDED, ZONE_TYPE, '980', REGION, OBSOLETE, PRIORITY, STEM_TIME, STEM_FROM_TIME, STEM_TO_TIME
, COS_ENABLED, SERVICETIME_TYPE, STEM_MAX_TIME, LOADING_PRIORITY, ZONE_ECOFRIENDLY, STEERING_RADIUS, SVC_ADJ_REDUCTION_FACTOR, PRETRIP_TIME, POSTTRIP_TIME, ETA_INTERVAL
, MANIFEST_ETA_ENABLED, EMAIL_ETA_ENABLED, SMS_ETA_ENABLED, NEXTSTOP_SMS_ENABLED, DLV_UNATTENDED_SMS_ENABLED, DLV_ATTEMPTED_SMS_ENABLED,DLV_WINDOW_REMINDER_ENABLED 
 from transp.ZONE zx where zx.ZONE_CODE = '922'; 

update DLV.DEPOT d set D.DEACTIVATED = 'X' where D.PICKUP = 'X';

update DLV.DEPOT d set D.DEACTIVATED = 'X', D.DISPLAY_SEQUENCE = 2 where D.DEPOT_CODE = 'HAMSUMMERPICKUP';

update DLV.DEPOT d set D.DEACTIVATED = null, D.DISPLAY_SEQUENCE = 1 where D.DEPOT_CODE = 'FDPICKUP';


