
CREATE TABLE DLV.TIMESLOT_EVENT_HDR
(
  ORDER_ID                VARCHAR2(16 BYTE)     NOT NULL,
  CUSTOMER_ID             VARCHAR2(16 BYTE),
  EVENTTYPE               VARCHAR2(32 BYTE)     NOT NULL,
  ID                      VARCHAR2(16 BYTE)     NOT NULL,
  EVENT_DTM               DATE                  NOT NULL,
  RESPONSE_TIME           INTEGER,
  COMMENTS                VARCHAR2(512 BYTE),
  RESERVATION_ID          VARCHAR2(16 BYTE),
  TRANSACTIONSOURCE       VARCHAR2(3 BYTE),
  DLVPASSAPPLIED          VARCHAR2(1 BYTE),
  DELIVERYCHARGE          NUMBER(10,2),
  ISDELIVERYCHARGEWAIVED  VARCHAR2(1 BYTE),
  ZONECTACTIVE            VARCHAR2(1 BYTE)
);



ALTER TABLE DLV.TIMESLOT_EVENT_HDR ADD (
  PRIMARY KEY
 (ID));
 
 CREATE INDEX SYS.IDX_TIMESLOT_EVENT_DTM ON DLV.TIMESLOT_EVENT_HDR
(EVENT_DTM);
 
CREATE UNIQUE INDEX DLV.TIMESLOT_EVENT_HDR_PK ON DLV.TIMESLOT_EVENT_HDR
(ID);

ALTER TABLE DLV.TIMESLOT_EVENT_HDR ADD (
  CONSTRAINT TIMESLOT_EVENT_HDR_PK
 PRIMARY KEY
 (ID));
 
 
CREATE TABLE DLV.TIMESLOT_EVENT_DTL
(
  TIMESLOT_LOG_ID        VARCHAR2(16 BYTE),
  BASE_DATE              DATE,
  START_TIME             DATE,
  END_TIME               DATE,
  ADD_DISTANCE           NUMBER(10),
  ADD_RUNTIME            NUMBER(10),
  ADD_STOPCOST           NUMBER(10),
  CAPACITY               NUMBER(10),
  COSTPERMILE            NUMBER(10),
  FIXED_RT_COST          NUMBER(10),
  MAXRUNTIME             NUMBER(10),
  OT_HOURLY_WAGE         NUMBER(10),
  PERCENT_AVAIL          NUMBER(5,2),
  PREF_RUNTIME           NUMBER(10),
  REG_HOURLY_WAGE        NUMBER(10),
  REG_WAGE_SECS          NUMBER(10),
  ROUTE_ID               NUMBER(10),
  STOP_SEQ               NUMBER(10),
  TOTAL_DISTANCE         NUMBER(10),
  TOTAL_PU_QTY           NUMBER(10),
  TOTAL_QTY              NUMBER(10),
  TOTAL_ROUTE_COST       NUMBER(10),
  TOTAL_RUNTIME          NUMBER(10),
  TOTAL_SVC_TIME         NUMBER(10),
  TOTAL_TRAVEL_TIME      NUMBER(10),
  TOTAL_WAIT_TIME        NUMBER(10),
  IS_AVAIL               VARCHAR2(1 BYTE),
  IS_FILTERED            VARCHAR2(1 BYTE),
  IS_MISSED_TW           VARCHAR2(1 BYTE),
  ZONE_CODE              VARCHAR2(8 BYTE),
  WS_AMOUNT              NUMBER(10,2),
  ALCOHOL_RESTRICTION    VARCHAR2(1 BYTE),
  HOLIDAY_RESTRICTION    VARCHAR2(1 BYTE),
  ECOFRIENDLYSLOT        VARCHAR2(1 BYTE),
  NEIGHBOURHOODSLOT      VARCHAR2(1 BYTE),
  TOTALCAPACITY          NUMBER(10),
  CTCAPACITY             NUMBER(10),
  MANUALLY_CLOSED        VARCHAR2(1 BYTE),
  CUTOFF                 DATE,
  STOREFRONT_AVL         VARCHAR2(1 BYTE),
  CT_ALLOCATED           NUMBER(10),
  TOTAL_ALLOCATED        NUMBER(10),
  WAVE_VEHICLES          NUMBER(10),
  WAVE_VEHICLES_IN_USE   NUMBER(10),
  WAVE_STARTTIME         DATE,
  UNAVAILABILITY_REASON  VARCHAR2(100 BYTE),
  WAVE_ORDERS_TAKEN      NUMBER(10),
  TOTAL_QUANTITIES       NUMBER(10),
  NEWROUTE               VARCHAR2(1 BYTE),
  CAPACITIES             NUMBER(10),
  GEORESTRICTED          VARCHAR2(1 BYTE),
  IS_EMPTY               VARCHAR2(1 BYTE)       DEFAULT 0
);


ALTER TABLE DLV.TIMESLOT_EVENT_DTL ADD (
CONSTRAINT TIMESLOT_EVENT_FK 
  FOREIGN KEY (TIMESLOT_LOG_ID) 
 REFERENCES DLV.TIMESLOT_EVENT_HDR (ID));
 
 
 CREATE INDEX DLV.TIMESLOT_EVENT_DTL_IDX_01 ON DLV.TIMESLOT_EVENT_DTL
(TIMESLOT_LOG_ID);
 
 