--DBSTO

CREATE SEQUENCE erps.product_family_batch
START WITH     1000
INCREMENT BY   1
NOCACHE
NOCYCLE;


CREATE TABLE "ERPS"."PRODUCT_FAMILY_HISTORY" 
   ( "ID" VARCHAR2(16 BYTE), 
  "VERSION" NUMBER(10,0) NOT NULL ENABLE, 
  "DATE_CREATED" DATE NOT NULL ENABLE, 
  "MESSAGE" VARCHAR2(50 BYTE)
   ) ;
   
   ALTER TABLE ERPS.PRODUCT_FAMILY_HISTORY ADD (
  PRIMARY KEY
 (ID)
    USING INDEX 
    TABLESPACE FDERPDAT
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
               ));
               
               
             
   
CREATE TABLE "ERPS"."PRODUCT_FAMILY_MASTER" 
   (           "ID" VARCHAR2(16 BYTE), 
                "FAMILY_ID" VARCHAR2(16 BYTE) NOT NULL ENABLE, 
                "VERSION" VARCHAR2(16 BYTE) NOT NULL ENABLE, 
                "ACTIVE" CHAR(1 BYTE), 
                "PRODUCT_ID" VARCHAR2(18 BYTE), 
                "GROUP_STAT" CHAR(1 BYTE)
   );
   
     ALTER TABLE ERPS.PRODUCT_FAMILY_MASTER ADD (
  PRIMARY KEY
 (ID)
    USING INDEX 
    TABLESPACE FDERPDAT
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                MINEXTENTS       1
                MAXEXTENTS       UNLIMITED
                PCTINCREASE      0
               ));

CREATE INDEX ERPS.PROD_FAMILY_HIS_VER_IDX ON ERPS.PRODUCT_FAMILY_HISTORY
(VERSION)
LOGGING
TABLESPACE FDERPIDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;

CREATE INDEX ERPS.PROD_FAMILY_MAS_VER_IDX ON ERPS.PRODUCT_FAMILY_MASTER
(VERSION)
LOGGING
TABLESPACE FDERPIDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


CREATE INDEX ERPS.PROD_FAMILY_MAS_FAM_ID_IDX ON ERPS.PRODUCT_FAMILY_MASTER
(FAMILY_ID)
LOGGING
TABLESPACE FDERPIDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


GRANT SELECT ON ERPS.product_family_batch TO APPDEV;
GRANT SELECT ON ERPS.product_family_batch TO FDSTORE_STPRD01;
GRANT SELECT ON ERPS.product_family_batch TO RO_CUST_ERPS;

GRANT SELECT ON ERPS.PRODUCT_FAMILY_HISTORY TO APPDEV;
GRANT DELETE, INSERT, SELECT, UPDATE ON ERPS.PRODUCT_FAMILY_HISTORY TO FDSTORE_STPRD01;
GRANT SELECT ON ERPS.PRODUCT_FAMILY_HISTORY TO RO_CUST_ERPS;

GRANT SELECT ON ERPS.PRODUCT_FAMILY_MASTER TO APPDEV;
GRANT DELETE, INSERT, SELECT, UPDATE ON ERPS.PRODUCT_FAMILY_MASTER TO FDSTORE_STPRD01;
GRANT SELECT ON ERPS.PRODUCT_FAMILY_MASTER TO RO_CUST_ERPS;