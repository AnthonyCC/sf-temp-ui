create table CARTON_INFO (
  SALE_ID VARCHAR2(16),
  CARTON_NUMBER VARCHAR2(20),
  SAP_NUMBER VARCHAR2(20),
  CARTON_TYPE VARCHAR2(10)
);
  

create table CARTON_DETAIL (
  SALE_ID VARCHAR2(16),
  CARTON_NUMBER VARCHAR2(20),
  ORDERLINE_NUMBER VARCHAR2(16),
  MATERIAL_NUMBER VARCHAR2(20),
  BARCODE VARCHAR2(20),
  ACTUAL_QUANTITY NUMBER(10,2),
  ACTUAL_WEIGHT NUMBER(10,2),
  SALES_UNIT VARCHAR2(3)
);

ALTER TABLE CARTON_INFO ADD  CONSTRAINT FK_CART_INF_SALE_ID
 FOREIGN KEY (SALE_ID) 
 REFERENCES CUST.SALE (ID) ;

ALTER TABLE CARTON_DETAIL ADD  CONSTRAINT FK_CART_DET_SALE_ID
 FOREIGN KEY (SALE_ID) 
 REFERENCES CUST.SALE (ID) ;


grant insert, update, select, delete on CARTON_INFO to FDSTORE_PRDA;

grant insert, update, select, delete on CARTON_INFO to FDSTORE_PRDB;

grant insert, update, select, delete on CARTON_DETAIL to FDSTORE_PRDA;

grant insert, update, select, delete on CARTON_DETAIL to FDSTORE_PRDB;


create index IDX_CARTON_INFO_SALE_ID on CARTON_INFO(SALE_ID);

create index IDX_CARTON_DETAIL_SALE_ID on CARTON_DETAIL(SALE_ID);

create index IDX_CART_DET_SALE_ID_CAR_NUM on CARTON_DETAIL(SALE_ID, CARTON_NUMBER);

create index IDX_CART_DET_SALE_ID_ORDLIN on CARTON_DETAIL(SALE_ID, ORDERLINE_NUMBER);

/* Only on production */
grant select on CARTON_INFO to APPDEV;

grant select on CARTON_DETAIL to APPDEV;
