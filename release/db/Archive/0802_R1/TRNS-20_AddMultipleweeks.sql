ALTER TABLE TRANSP.TRN_DISPATCH_PLAN ADD PLAN_DATE DATE;

ALTER TABLE TRANSP.TRN_DISPATCH_PLAN ADD END_SLOT_ID VARCHAR2(16 BYTE);

ALTER TABLE TRANSP.TRN_DISPATCH ADD END_SLOT_ID VARCHAR2(16 BYTE);

UPDATE TRANSP.TRN_DISPATCH SET END_SLOT_ID = '1400' where SLOT_ID in ('0500','0530','0600','0800','0830','0900','0930','1000');
UPDATE TRANSP.TRN_DISPATCH SET END_SLOT_ID = '1500' where SLOT_ID in ('0630','0700','0730');
UPDATE TRANSP.TRN_DISPATCH SET END_SLOT_ID = '2000' where SLOT_ID in ('1030','1100','1130','1200');
UPDATE TRANSP.TRN_DISPATCH SET END_SLOT_ID = '2330' where SLOT_ID in ('1230','1300','1330','1400','1430','1500','1530','1600','1630','1700','1730','1800');

UPDATE TRANSP.TRN_DISPATCH SET END_SLOT_ID = SLOT_ID WHERE END_SLOT_ID IS NULL;

UPDATE TRANSP.TRN_DISPATCH_PLAN SET END_SLOT_ID = '1400' where SLOT_ID in ('0500','0530','0600','0800','0830','0900','0930','1000');
UPDATE TRANSP.TRN_DISPATCH_PLAN SET END_SLOT_ID = '1500' where SLOT_ID in ('0630','0700','0730');
UPDATE TRANSP.TRN_DISPATCH_PLAN SET END_SLOT_ID = '2000' where SLOT_ID in ('1030','1100','1130','1200');
UPDATE TRANSP.TRN_DISPATCH_PLAN SET END_SLOT_ID = '2330' where SLOT_ID in ('1230','1300','1330','1400','1430','1500','1530','1600','1630','1700','1730','1800');

UPDATE TRANSP.TRN_DISPATCH_PLAN SET END_SLOT_ID = SLOT_ID WHERE END_SLOT_ID IS NULL;


UPDATE TRANSP.TRN_DISPATCH_PLAN SET PLAN_DATE = to_date('1900/01/01', 'yyyy/mm/dd') Where DISPATCH_DAY = 'Monday';
UPDATE TRANSP.TRN_DISPATCH_PLAN SET PLAN_DATE = to_date('1900/01/02', 'yyyy/mm/dd') Where DISPATCH_DAY = 'Tuesday';
UPDATE TRANSP.TRN_DISPATCH_PLAN SET PLAN_DATE = to_date('1900/01/03', 'yyyy/mm/dd') Where DISPATCH_DAY = 'Wednesday';
UPDATE TRANSP.TRN_DISPATCH_PLAN SET PLAN_DATE = to_date('1900/01/04', 'yyyy/mm/dd') Where DISPATCH_DAY = 'Thursday';
UPDATE TRANSP.TRN_DISPATCH_PLAN SET PLAN_DATE = to_date('1900/01/05', 'yyyy/mm/dd') Where DISPATCH_DAY = 'Friday';
UPDATE TRANSP.TRN_DISPATCH_PLAN SET PLAN_DATE = to_date('1900/01/06', 'yyyy/mm/dd') Where DISPATCH_DAY = 'Saturday';
UPDATE TRANSP.TRN_DISPATCH_PLAN SET PLAN_DATE = to_date('1900/01/07', 'yyyy/mm/dd') Where DISPATCH_DAY = 'Sunday';

