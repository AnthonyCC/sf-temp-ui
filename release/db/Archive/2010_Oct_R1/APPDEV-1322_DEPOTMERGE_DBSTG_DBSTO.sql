DROP TABLE TRANSP.HANDOFF_BATCHDEPOTSCHEDULE CASCADE CONSTRAINTS;

CREATE TABLE TRANSP.HANDOFF_BATCHDEPOTSCHEDULE
(
  BATCH_ID     VARCHAR2(16 BYTE)             NOT NULL,
  AREA     VARCHAR2(10 BYTE)             NOT NULL,
  DEPOTARRIVALTIME     DATE             NOT NULL,
  TRUCKDEPARTURETIME     DATE             NOT NULL,
  ORIGIN_ID VARCHAR2(40) NOT NULL
);

ALTER TABLE TRANSP.HANDOFF_BATCHDEPOTSCHEDULE ADD (CONSTRAINT PK_HANDOFF_BATDPTSCHEDULE  PRIMARY KEY (BATCH_ID, AREA, DEPOTARRIVALTIME, TRUCKDEPARTURETIME, ORIGIN_ID));
ALTER TABLE TRANSP.HANDOFF_BATCHDEPOTSCHEDULE ADD (CONSTRAINT ACT_HANDOFF_BATDPTSCHEDULE_FK FOREIGN KEY (BATCH_ID) REFERENCES TRANSP.HANDOFF_BATCH (BATCH_ID));

CREATE INDEX TRANSP.IDX_HF_BATCHDPTSCH_BATCHID ON TRANSP.HANDOFF_BATCHDEPOTSCHEDULE(BATCH_ID);


