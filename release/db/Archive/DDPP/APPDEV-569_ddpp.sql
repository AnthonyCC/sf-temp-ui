CREATE TABLE ERPS.PRODUCT_PROMOTION_HISTORY
(
  VERSION  NUMBER(10)                           NOT NULL,
  DATE_CREATED        DATE,
  STATUS VARCHAR2(10 BYTE) 
);

ALTER TABLE ERPS.PRODUCT_PROMOTION_HISTORY ADD (CONSTRAINT PK_PRODUCT_PROMOTION_HISTORY PRIMARY KEY (VERSION));



CREATE TABLE ERPS.PRODUCT_PROMOTION
(
 ID              VARCHAR2(16 BYTE)             NOT NULL,
  VERSION  NUMBER(10)                           NOT NULL,
  ERP_PP_ID VARCHAR2(16 BYTE)             NOT NULL,
  TYPE            VARCHAR2(30 BYTE)             NOT NULL,
  START_DATE        DATE,
  END_DATE DATE 
);

ALTER TABLE ERPS.PRODUCT_PROMOTION ADD ( CONSTRAINT PK_PRODUCT_PROMOTION PRIMARY KEY (ID));
 
 ALTER TABLE ERPS.PRODUCT_PROMOTION ADD (CONSTRAINT PRODUCT_PROMOTION_FK FOREIGN KEY (VERSION) REFERENCES ERPS.PRODUCT_PROMOTION_HISTORY (VERSION));
 
 
 CREATE TABLE ERPS.PRODUCT_PROMOTION_GROUP
(
 ID              VARCHAR2(16 BYTE)             NOT NULL,
  ZONE_ID   VARCHAR2(16 BYTE),
  MAT_NUM VARCHAR2(18 BYTE)          NOT NULL,
  SKU_CODE VARCHAR2(18 BYTE)      NOT NULL,
  PRIORITY  VARCHAR2(5 BYTE)    ,
  ERP_DEPT VARCHAR2(16 BYTE)  ,
  FEATURED  CHAR(1 BYTE),
  FEATURED_HEADER VARCHAR2(30 BYTE),
  TYPE            VARCHAR2(30 BYTE)             NOT NULL,
  VERSION  NUMBER(10)                           NOT NULL
);

ALTER TABLE ERPS.PRODUCT_PROMOTION_GROUP ADD (CONSTRAINT PK_PRODUCT_PROMOTION_GROUP PRIMARY KEY (ID));
 
 ALTER TABLE ERPS.PRODUCT_PROMOTION_GROUP ADD (
  CONSTRAINT PRODUCT_PROMOTION_GROUP_FK 
 FOREIGN KEY (VERSION) 
 REFERENCES ERPS.PRODUCT_PROMOTION_HISTORY (VERSION));

CREATE INDEX VERSION_IDX ON ERPS.PRODUCT_PROMOTION_GROUP (VERSION);

 
 CREATE SEQUENCE ERPS.PRODUCTPROMO_BATCH_SEQ
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  NOORDER;


CREATE TABLE ERPS.PRODUCT_PROMOTION_FEAT_HEADER
(
  CODE VARCHAR2(3 BYTE) NOT NULL,
  NAME  VARCHAR2(30 BYTE) NOT NULL,  
  DESCRIPTION  VARCHAR2(30 BYTE) NOT NULL
);


Insert into CUST.PROFILE_ATTR_NAME (NAME, DESCRIPTION, CATEGORY, IS_EDITABLE) Values ('DDPP_ELIGIBLE', 'DDPP_ELIGIBLE', 'General', 'X');

Insert into erps.PRODUCT_PROMOTION_FEAT_HEADER(CODE,NAME,DESCRIPTION) values('001','BEST_BET','Best Bet');
 Insert into erps.PRODUCT_PROMOTION_FEAT_HEADER(CODE,NAME,DESCRIPTION) values('002','PEAK_SEASON','Peak Season');
 Insert into erps.PRODUCT_PROMOTION_FEAT_HEADER(CODE,NAME,DESCRIPTION) values('003','NUTRITIONISTS_CHOICE','Nutritionists Choice');
 Insert into erps.PRODUCT_PROMOTION_FEAT_HEADER(CODE,NAME,DESCRIPTION) values('004','HIDDEN_GEM','Hidden Gem');
 Insert into erps.PRODUCT_PROMOTION_FEAT_HEADER(CODE,NAME,DESCRIPTION) values('005','BACK_IN_SEASON','Back In Season');
 Insert into erps.PRODUCT_PROMOTION_FEAT_HEADER(CODE,NAME,DESCRIPTION) values('006','FLASH_SALE','Flash Sale');
 Insert into erps.PRODUCT_PROMOTION_FEAT_HEADER(CODE,NAME,DESCRIPTION) values('007','USQ_BEST_BET','Union Square Best Bet');
 Insert into erps.PRODUCT_PROMOTION_FEAT_HEADER(CODE,NAME,DESCRIPTION) values('008','CHEFS_CHOICE','Chefs Choice');
 Insert into erps.PRODUCT_PROMOTION_FEAT_HEADER(CODE,NAME,DESCRIPTION) values('009','FD_EXCLUSIVE','FD Exclusive');
 Insert into erps.PRODUCT_PROMOTION_FEAT_HEADER(CODE,NAME,DESCRIPTION) values('010','WOW_DEAL','Wow! Deal');
 Insert into erps.PRODUCT_PROMOTION_FEAT_HEADER(CODE,NAME,DESCRIPTION) values('011','GREAT_GIFT','Great Gift');
 Insert into erps.PRODUCT_PROMOTION_FEAT_HEADER(CODE,NAME,DESCRIPTION) values('012','LIMITED_QTY','Limited Quantities');
 Insert into erps.PRODUCT_PROMOTION_FEAT_HEADER(CODE,NAME,DESCRIPTION) values('013','NEW','New');

 

   