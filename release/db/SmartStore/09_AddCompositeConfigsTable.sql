
CREATE TABLE CUST.SS_COMPOSITE_CONFIGS (
   "CONFIG_ID" VARCHAR2(16) NOT NULL,
   "PART_CONFIG_ID" VARCHAR2(16) NOT NULL,
   "FREQUENCY" NUMBER(5) NOT NULL,

   CONSTRAINT "COMPOSITE_CONFIGS_ID_FK" FOREIGN KEY ("CONFIG_ID")
      REFERENCES CUST."SS_SERVICE_CONFIGS" ("ID") ENABLE,

   CONSTRAINT "COMPOSITE_CONFIGS_PART_ID_FK" FOREIGN KEY ("PART_CONFIG_ID")
      REFERENCES CUST."SS_SERVICE_CONFIGS" ("ID") ENABLE,

   CONSTRAINT "COMPOSITE_CONFIGS_PK" PRIMARY KEY 
      ("CONFIG_ID","PART_CONFIG_ID")

);


GRANT SELECT, INSERT, DELETE, UPDATE ON CUST.SS_COMPOSITE_CONFIGS TO FDSTORE;



INSERT INTO CUST.SS_COMPOSITE_CONFIGS (CONFIG_ID, PART_CONFIG_ID, FREQUENCY) VALUES('comp0-test-dyf','freqbought-dyf',40);
INSERT INTO CUST.SS_COMPOSITE_CONFIGS (CONFIG_ID, PART_CONFIG_ID, FREQUENCY) VALUES('comp0-test-dyf','random-dyf',60);
INSERT INTO CUST.SS_COMPOSITE_CONFIGS (CONFIG_ID, PART_CONFIG_ID, FREQUENCY) VALUES('comp1-test-dyf','comp0-test-dyf',30);
INSERT INTO CUST.SS_COMPOSITE_CONFIGS (CONFIG_ID, PART_CONFIG_ID, FREQUENCY) VALUES('comp1-test-dyf','freqbought-dyf',35);
INSERT INTO CUST.SS_COMPOSITE_CONFIGS (CONFIG_ID, PART_CONFIG_ID, FREQUENCY) VALUES('comp1-test-dyf','random-dyf',35);


