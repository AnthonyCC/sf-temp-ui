
CREATE INDEX CUST.IDX_EXT_ACCOUNT ON CUST.EXTERNAL_ACCOUNT_LINK
(USER_ID, PROVIDER);

CREATE TABLE CUST.EXTERNAL_ACCOUNT_LINK
(
  CUSTOMER_ID          VARCHAR2(16 BYTE)   NOT NULL,
  USER_ID              VARCHAR2(80 BYTE)        NOT NULL,
  USER_TOKEN           VARCHAR2(150 BYTE),
  IDENTITY_TOKEN       VARCHAR2(150 BYTE),
  PROVIDER             VARCHAR2(36 BYTE) NOT NULL,
  DISPLAY_NAME         VARCHAR2(150 BYTE),
  PREFERRED_USER_NAME  VARCHAR2(150 BYTE),
  EMAIL                VARCHAR2(80 BYTE),
  EMAIL_VERIFIED       VARCHAR2(1 BYTE),
  TYPE                 VARCHAR2(1 BYTE)
);

ALTER TABLE CUST.CUSTOMER ADD SOCIAL_LOGIN_ONLY  VARCHAR2(1 BYTE);