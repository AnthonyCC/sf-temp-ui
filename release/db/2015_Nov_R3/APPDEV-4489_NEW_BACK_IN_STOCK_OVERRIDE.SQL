--Create Table
CREATE TABLE ERPS.ATTRIBUTES_SALES_AREA
(
  ID             VARCHAR2(16 BYTE)              NOT NULL,
  SKUCODE        VARCHAR2(32 BYTE)              NOT NULL,
  SALES_ORG              VARCHAR2(8 BYTE),
  DISTRIBUTION_CHANNEL   VARCHAR2(8 BYTE),
  ATR_TYPE       CHAR(1 BYTE),
  ATR_NAME       VARCHAR2(40 BYTE)              NOT NULL,
  ATR_VALUE      VARCHAR2(255 BYTE)             NOT NULL,
  DATE_MODIFIED  DATE                           NOT NULL
)
--Create Sequence
CREATE SEQUENCE ERPS.ATTRIBUTE_MSA_SEQ
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  NOORDER;
--DML

INSERT INTO ERPS.ATTRIBUTES_SALES_AREA (ID,SKUCODE,SALES_ORG,DISTRIBUTION_CHANNEL,ATR_TYPE,ATR_NAME,ATR_VALUE,DATE_MODIFIED)
SELECT 
ERPS.ATTRIBUTE_MSA_SEQ.nextval, root_id,'0001','01',atr_type,ATR_NAME,ATR_VALUE,DATE_MODIFIED
FROM erps.attributes a where A.ATR_NAME IN ('new_prod_date','back_in_stock');

--Grants in DEVINT Database
GRANT DELETE, INSERT, SELECT, UPDATE ON ERPS.ATTRIBUTES_SALES_AREA TO FDSTORE;

--Grants in DBSTG
GRANT DELETE, INSERT, SELECT, UPDATE ON ERPS.ATTRIBUTES_SALES_AREA TO FDSTORE_STSTG01;

--Grants in DBSTO
GRANT SELECT ON ERPS.ATTRIBUTES_SALES_AREA TO APPDEV_ROLE;
GRANT SELECT ON ERPS.ATTRIBUTES_SALES_AREA TO CSSI;
GRANT SELECT ON ERPS.ATTRIBUTES_SALES_AREA TO DWHUSER_ROLE;
GRANT SELECT ON ERPS.ATTRIBUTES_SALES_AREA TO DWUSER;
GRANT SELECT ON ERPS.ATTRIBUTES_SALES_AREA TO FDETLRO;
GRANT DELETE, INSERT, SELECT, UPDATE ON ERPS.ATTRIBUTES_SALES_AREA TO FDSTORE_PRDA;
GRANT DELETE, INSERT, SELECT, UPDATE ON ERPS.ATTRIBUTES_SALES_AREA TO FDSTORE_PRDB;
GRANT DELETE, INSERT, SELECT, UPDATE ON ERPS.ATTRIBUTES_SALES_AREA TO FDSTORE_STPRD01;
GRANT SELECT ON ERPS.ATTRIBUTES_SALES_AREA TO MYLES;
GRANT SELECT ON ERPS.ATTRIBUTES_SALES_AREA TO RO_CUST_ERPS;
GRANT SELECT ON ERPS.ATTRIBUTES_SALES_AREA TO STORE_READ;