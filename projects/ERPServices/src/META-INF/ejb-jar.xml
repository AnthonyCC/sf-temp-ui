<!DOCTYPE ejb-jar PUBLIC '-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 2.0//EN' 'http://java.sun.com/dtd/ejb-jar_2_0.dtd'>

<ejb-jar>
    <enterprise-beans>
        <session>
            <ejb-name>FDFactory</ejb-name>
            <home>com.freshdirect.fdstore.ejb.FDFactoryHome</home>
            <remote>com.freshdirect.fdstore.ejb.FDFactorySB</remote>
            <ejb-class>com.freshdirect.fdstore.ejb.FDFactorySessionBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <ejb-ref>
                <ejb-ref-name>ejb/ErpProduct</ejb-ref-name>
                <ejb-ref-type>Entity</ejb-ref-type>
                <home>com.freshdirect.erp.ejb.ErpProductHome</home>
                <remote>com.freshdirect.erp.ejb.ErpProductEB</remote>
            </ejb-ref>
            <ejb-ref>
                <ejb-ref-name>ejb/ErpCharacteristicValuePrice</ejb-ref-name>
                <ejb-ref-type>Entity</ejb-ref-type>
                <home>com.freshdirect.erp.ejb.ErpCharacteristicValuePriceHome</home>
                <remote>com.freshdirect.erp.ejb.ErpCharacteristicValuePriceEB</remote>
            </ejb-ref>
            <ejb-ref>
                <ejb-ref-name>ejb/AttributeFacade</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <home>com.freshdirect.content.attributes.ejb.AttributeFacadeHome</home>
                <remote>com.freshdirect.content.attributes.ejb.AttributeFacadeSB</remote>
            </ejb-ref>
            <ejb-ref>
                <ejb-ref-name>ejb/ErpInfo</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <home>com.freshdirect.erp.ejb.ErpInfoHome</home>
                <remote>com.freshdirect.erp.ejb.ErpInfoSB</remote>
            </ejb-ref>
            <ejb-ref>
                <ejb-ref-name>ejb/ErpNutrition</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <home>com.freshdirect.content.nutrition.ejb.ErpNutritionHome</home>
                <remote>com.freshdirect.content.nutrition.ejb.ErpNutritionSB</remote>
            </ejb-ref>
        </session>
        <session>
            <ejb-name>FraudManager</ejb-name>
            <home>com.freshdirect.customer.ejb.ErpFraudPreventionHome</home>
            <remote>com.freshdirect.customer.ejb.ErpFraudPreventionSB</remote>
            <ejb-class>com.freshdirect.customer.ejb.ErpFraudPreventionSessionBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <ejb-ref>
                <ejb-ref-name>ejb/CrmManager</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <home>com.freshdirect.crm.ejb.CrmManagerHome</home>
                <remote>com.freshdirect.crm.ejb.CrmManagerSB</remote>
            </ejb-ref>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </session>
        <session>
            <ejb-name>ComplaintManager</ejb-name>
            <home>com.freshdirect.customer.ejb.ErpComplaintManagerHome</home>
            <remote>com.freshdirect.customer.ejb.ErpComplaintManagerSB</remote>
            <ejb-class>com.freshdirect.customer.ejb.ErpComplaintManagerSessionBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </session>
        
        <session>
            <ejb-name>MailerGateway</ejb-name>
            <home>com.freshdirect.mail.ejb.MailerGatewayHome</home>
            <remote>com.freshdirect.mail.ejb.MailerGatewaySB</remote>
            <ejb-class>com.freshdirect.mail.ejb.MailerGatewaySessionBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <resource-ref>
                <res-ref-name>jms/QueueFactory</res-ref-name>
                <res-type>javax.jms.QueueConnectionFactory</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
            
            <resource-ref>
                <res-ref-name>mail/orders</res-ref-name>
                <res-type>javax.mail.Session</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
            <resource-env-ref>
                <resource-env-ref-name>jms/Queue</resource-env-ref-name>
                <resource-env-ref-type>javax.jms.Queue</resource-env-ref-type>
            </resource-env-ref>
        </session>
        
        <session>
            <ejb-name>ErpCustomerManager</ejb-name>
            <home>com.freshdirect.customer.ejb.ErpCustomerManagerHome</home>
            <remote>com.freshdirect.customer.ejb.ErpCustomerManagerSB</remote>
            <ejb-class>com.freshdirect.customer.ejb.ErpCustomerManagerSessionBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <ejb-ref>
                <ejb-ref-name>ejb/SapGateway</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <home>com.freshdirect.sap.ejb.SapGatewayHome</home>
                <remote>com.freshdirect.sap.ejb.SapGatewaySB</remote>
            </ejb-ref>
            <ejb-ref>
                <ejb-ref-name>ejb/ErpSale</ejb-ref-name>
                <ejb-ref-type>Entity</ejb-ref-type>
                <home>com.freshdirect.customer.ejb.ErpSaleHome</home>
                <remote>com.freshdirect.customer.ejb.ErpSaleEB</remote>
            </ejb-ref>
            <ejb-ref>
                <ejb-ref-name>ejb/ErpCustomer</ejb-ref-name>
                <ejb-ref-type>Entity</ejb-ref-type>
                <home>com.freshdirect.customer.ejb.ErpCustomerHome</home>
                <remote>com.freshdirect.customer.ejb.ErpCustomerEB</remote>
            </ejb-ref>
            <ejb-ref>
                <ejb-ref-name>ejb/CrmManager</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <home>com.freshdirect.crm.ejb.CrmManagerHome</home>
                <remote>com.freshdirect.crm.ejb.CrmManagerSB</remote>
            </ejb-ref>
            <ejb-ref>
                <ejb-ref-name>ejb/RestrictedPaymentMethod</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <home>com.freshdirect.payment.fraud.ejb.RestrictedPaymentMethodHome</home>
                <remote>com.freshdirect.payment.fraud.ejb.RestrictedPaymentMethodSB</remote>
            </ejb-ref>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </session>
        
        <session>
            <ejb-name>ErpInventoryManager</ejb-name>
            <home>com.freshdirect.erp.ejb.ErpInventoryManagerHome</home>
            <remote>com.freshdirect.erp.ejb.ErpInventoryManagerSB</remote>
            <ejb-class>com.freshdirect.erp.ejb.ErpInventoryManagerSessionBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Bean</transaction-type>
            <ejb-ref>
                <ejb-ref-name>ejb/ErpInventory</ejb-ref-name>
                <ejb-ref-type>Entity</ejb-ref-type>
                <home>com.freshdirect.erp.ejb.ErpInventoryHome</home>
                <remote>com.freshdirect.erp.ejb.ErpInventoryEB</remote>
            </ejb-ref>
        </session>

        <session>
            <ejb-name>ActivityLog</ejb-name>
            <home>com.freshdirect.customer.ejb.ActivityLogHome</home>
            <remote>com.freshdirect.customer.ejb.ActivityLogSB</remote>
            <ejb-class>com.freshdirect.customer.ejb.ActivityLogSessionBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </session>
        
        <session>
            <ejb-name>SapGateway</ejb-name>
            <home>com.freshdirect.sap.ejb.SapGatewayHome</home>
            <remote>com.freshdirect.sap.ejb.SapGatewaySB</remote>
            <ejb-class>com.freshdirect.sap.ejb.SapGatewaySessionBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <resource-ref>
                <res-ref-name>jms/QueueFactory</res-ref-name>
                <res-type>javax.jms.QueueConnectionFactory</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
            <resource-env-ref>
                <resource-env-ref-name>jms/Queue</resource-env-ref-name>
                <resource-env-ref-type>javax.jms.Queue</resource-env-ref-type>
            </resource-env-ref>
        </session>
        <session>
            <ejb-name>PaymentGateway</ejb-name>
            <home>com.freshdirect.payment.ejb.PaymentGatewayHome</home>
            <remote>com.freshdirect.payment.ejb.PaymentGatewaySB</remote>
            <ejb-class>com.freshdirect.payment.ejb.PaymentGatewaySessionBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>Timeout</env-entry-name>
                <env-entry-type>java.lang.Integer</env-entry-type>
                <env-entry-value>30000</env-entry-value>
            </env-entry>
            <ejb-ref>
                <ejb-ref-name>ejb/Payment</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <home>com.freshdirect.payment.ejb.PaymentHome</home>
                <remote>com.freshdirect.payment.ejb.PaymentSB</remote>
            </ejb-ref>
            <resource-ref>
                <res-ref-name>jms/QueueFactory</res-ref-name>
                <res-type>javax.jms.QueueConnectionFactory</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
            <resource-env-ref>
                <resource-env-ref-name>jms/Queue</resource-env-ref-name>
                <resource-env-ref-type>javax.jms.Queue</resource-env-ref-type>
            </resource-env-ref>
        </session>
        <session>
            <ejb-name>ErpInfo</ejb-name>
            <home>com.freshdirect.erp.ejb.ErpInfoHome</home>
            <remote>com.freshdirect.erp.ejb.ErpInfoSB</remote>
            <ejb-class>com.freshdirect.erp.ejb.ErpInfoSessionBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </session>
        <session>
            <ejb-name>AttributeFacade</ejb-name>
            <home>com.freshdirect.content.attributes.ejb.AttributeFacadeHome</home>
            <remote>com.freshdirect.content.attributes.ejb.AttributeFacadeSB</remote>
            <ejb-class>com.freshdirect.content.attributes.ejb.AttributeFacadeSessionBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </session>
        <session>
            <ejb-name>ErpNutritionSessionBean</ejb-name>
            <home>com.freshdirect.content.nutrition.ejb.ErpNutritionHome</home>
            <remote>com.freshdirect.content.nutrition.ejb.ErpNutritionSB</remote>
            <ejb-class>com.freshdirect.content.nutrition.ejb.ErpNutritionSessionBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </session>
        <session>
            <ejb-name>BatchManager</ejb-name>
            <home>com.freshdirect.erp.ejb.BatchManagerHome</home>
            <remote>com.freshdirect.erp.ejb.BatchManagerSB</remote>
            <ejb-class>com.freshdirect.erp.ejb.BatchManagerSessionBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </session>
		<session>
            <ejb-name>PaymentManager</ejb-name>
            <home>com.freshdirect.payment.ejb.PaymentManagerHome</home>
            <remote>com.freshdirect.payment.ejb.PaymentManagerSB</remote>
            <ejb-class>com.freshdirect.payment.ejb.PaymentManagerSessionBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
			<ejb-ref>
                <ejb-ref-name>ejb/ErpSale</ejb-ref-name>
                <ejb-ref-type>Entity</ejb-ref-type>
                <home>com.freshdirect.customer.ejb.ErpSaleHome</home>
                <remote>com.freshdirect.customer.ejb.ErpSaleEB</remote>
            </ejb-ref>
        </session>
        <session>
            <ejb-name>RestrictedPaymentMethod</ejb-name>
            <home>com.freshdirect.payment.fraud.ejb.RestrictedPaymentMethodHome</home>
            <remote>com.freshdirect.payment.fraud.ejb.RestrictedPaymentMethodSB</remote>
            <ejb-class>com.freshdirect.payment.fraud.ejb.RestrictedPaymentMethodSessionBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <ejb-ref>
                <ejb-ref-name>ejb/ActivityLog</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <home>com.freshdirect.customer.ejb.ActivityLogHome</home>
                <remote>com.freshdirect.customer.ejb.ActivityLogSB</remote>
            </ejb-ref>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </session>
        
        <entity>
            <ejb-name>ErpProduct</ejb-name>
            <home>com.freshdirect.erp.ejb.ErpProductHome</home>
            <remote>com.freshdirect.erp.ejb.ErpProductEB</remote>
            <ejb-class>com.freshdirect.erp.ejb.ErpProductEntityBean</ejb-class>
            <persistence-type>Bean</persistence-type>
            <prim-key-class>com.freshdirect.framework.core.VersionedPrimaryKey</prim-key-class>
            <reentrant>False</reentrant>
            <ejb-ref>
                <ejb-ref-name>ejb/ErpMaterial</ejb-ref-name>
                <ejb-ref-type>Entity</ejb-ref-type>
                <home>com.freshdirect.erp.ejb.ErpMaterialHome</home>
                <remote>com.freshdirect.erp.ejb.ErpMaterialEB</remote>
            </ejb-ref>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </entity>
        <entity>
            <ejb-name>ErpInventory</ejb-name>
            <home>com.freshdirect.erp.ejb.ErpInventoryHome</home>
            <remote>com.freshdirect.erp.ejb.ErpInventoryEB</remote>
            <ejb-class>com.freshdirect.erp.ejb.ErpInventoryEntityBean</ejb-class>
            <persistence-type>Bean</persistence-type>
            <prim-key-class>com.freshdirect.framework.core.PrimaryKey</prim-key-class>
            <reentrant>False</reentrant>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </entity>
        <entity>
            <ejb-name>ErpMaterial</ejb-name>
            <home>com.freshdirect.erp.ejb.ErpMaterialHome</home>
            <remote>com.freshdirect.erp.ejb.ErpMaterialEB</remote>
            <ejb-class>com.freshdirect.erp.ejb.ErpMaterialEntityBean</ejb-class>
            <persistence-type>Bean</persistence-type>
            <prim-key-class>com.freshdirect.framework.core.VersionedPrimaryKey</prim-key-class>
            <reentrant>False</reentrant>
            <ejb-ref>
                <ejb-ref-name>ejb/ErpClass</ejb-ref-name>
                <ejb-ref-type>Entity</ejb-ref-type>
                <home>com.freshdirect.erp.ejb.ErpClassHome</home>
                <remote>com.freshdirect.erp.ejb.ErpClassEB</remote>
            </ejb-ref>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </entity>
        <entity>
            <ejb-name>ErpClass</ejb-name>
            <home>com.freshdirect.erp.ejb.ErpClassHome</home>
            <remote>com.freshdirect.erp.ejb.ErpClassEB</remote>
            <ejb-class>com.freshdirect.erp.ejb.ErpClassEntityBean</ejb-class>
            <persistence-type>Bean</persistence-type>
            <prim-key-class>com.freshdirect.framework.core.VersionedPrimaryKey</prim-key-class>
            <reentrant>False</reentrant>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </entity>
        <entity>
            <ejb-name>ErpCharacteristicValuePrice</ejb-name>
            <home>com.freshdirect.erp.ejb.ErpCharacteristicValuePriceHome</home>
            <remote>com.freshdirect.erp.ejb.ErpCharacteristicValuePriceEB</remote>
            <ejb-class>com.freshdirect.erp.ejb.ErpCharacteristicValuePriceEntityBean</ejb-class>
            <persistence-type>Bean</persistence-type>
            <prim-key-class>com.freshdirect.framework.core.VersionedPrimaryKey</prim-key-class>
            <reentrant>False</reentrant>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </entity>
        <entity>
            <ejb-name>ErpCustomer</ejb-name>
            <home>com.freshdirect.customer.ejb.ErpCustomerHome</home>
            <remote>com.freshdirect.customer.ejb.ErpCustomerEB</remote>
            <ejb-class>com.freshdirect.customer.ejb.ErpCustomerEntityBean</ejb-class>
            <persistence-type>Bean</persistence-type>
            <prim-key-class>com.freshdirect.framework.core.PrimaryKey</prim-key-class>
            <reentrant>False</reentrant>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </entity>
        <entity>
            <ejb-name>ErpSale</ejb-name>
            <home>com.freshdirect.customer.ejb.ErpSaleHome</home>
            <remote>com.freshdirect.customer.ejb.ErpSaleEB</remote>
            <ejb-class>com.freshdirect.customer.ejb.ErpSaleEntityBean</ejb-class>
            <persistence-type>Bean</persistence-type>
            <prim-key-class>com.freshdirect.framework.core.PrimaryKey</prim-key-class>
            <reentrant>False</reentrant>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </entity>

        <message-driven>
            <ejb-name>SapCommandListener</ejb-name>
            <ejb-class>com.freshdirect.sap.ejb.SapCommandListener</ejb-class>
            <transaction-type>Container</transaction-type>
            <message-selector>(MessageType='SAP/new')</message-selector>
            <message-driven-destination>
                <destination-type>javax.jms.Queue</destination-type>
            </message-driven-destination>
            <resource-ref>
                <res-ref-name>jms/QueueFactory</res-ref-name>
                <res-type>javax.jms.QueueConnectionFactory</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
            <resource-env-ref>
                <resource-env-ref-name>jms/ResponseQueue</resource-env-ref-name>
                <resource-env-ref-type>javax.jms.Queue</resource-env-ref-type>
            </resource-env-ref>
        </message-driven>

        <message-driven>
            <ejb-name>SapResultListener</ejb-name>
            <ejb-class>com.freshdirect.sap.ejb.SapResultListener</ejb-class>
            <transaction-type>Container</transaction-type>
            <message-selector>(MessageType='SAP/result')</message-selector>
            <message-driven-destination>
                <destination-type>javax.jms.Queue</destination-type>
            </message-driven-destination>
            <ejb-ref>
                <ejb-ref-name>ejb/CrmManager</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <home>com.freshdirect.crm.ejb.CrmManagerHome</home>
                <remote>com.freshdirect.crm.ejb.CrmManagerSB</remote>
            </ejb-ref>
        </message-driven>

        <message-driven>
            <ejb-name>MailMessageListener</ejb-name>
            <ejb-class>com.freshdirect.mail.service.MailMessageListener</ejb-class>
            <transaction-type>Container</transaction-type>
            <message-driven-destination>
                <destination-type>javax.jms.Queue</destination-type>
            </message-driven-destination>
        </message-driven>

        <message-driven>
            <ejb-name>PaymentMessageListener</ejb-name>
            <ejb-class>com.freshdirect.payment.service.PaymentMessageListener</ejb-class>
            <transaction-type>Container</transaction-type>
            <message-driven-destination>
                <destination-type>javax.jms.Queue</destination-type>
            </message-driven-destination>
        </message-driven>

        <session>
            <ejb-name>Reconciliation</ejb-name>
            <home>com.freshdirect.payment.ejb.ReconciliationHome</home>
            <remote>com.freshdirect.payment.ejb.ReconciliationSB</remote>
            <ejb-class>com.freshdirect.payment.ejb.ReconciliationSessionBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <ejb-ref>
                <ejb-ref-name>ejb/ErpSale</ejb-ref-name>
                <ejb-ref-type>Entity</ejb-ref-type>
                <home>com.freshdirect.customer.ejb.ErpSaleHome</home>
                <remote>com.freshdirect.customer.ejb.ErpSaleEB</remote>
            </ejb-ref>
            <ejb-ref>
                <ejb-ref-name>ejb/CrmManager</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <home>com.freshdirect.crm.ejb.CrmManagerHome</home>
                <remote>com.freshdirect.crm.ejb.CrmManagerSB</remote>
            </ejb-ref>
            <ejb-ref>
                <ejb-ref-name>ejb/ErpCustomerManager</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <home>com.freshdirect.customer.ejb.ErpCustomerManagerHome</home>
                <remote>com.freshdirect.customer.ejb.ErpCustomerManagerSB</remote>
            </ejb-ref>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </session>
        
        <session>
            <ejb-name>Payment</ejb-name>
            <home>com.freshdirect.payment.ejb.PaymentHome</home>
            <remote>com.freshdirect.payment.ejb.PaymentSB</remote>
            <ejb-class>com.freshdirect.payment.ejb.PaymentSessionBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Bean</transaction-type>
            <ejb-ref>
                <ejb-ref-name>ejb/ErpCustomerManager</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <home>com.freshdirect.customer.ejb.ErpCustomerManagerHome</home>
                <remote>com.freshdirect.customer.ejb.ErpCustomerManagerSB</remote>
            </ejb-ref>
            <ejb-ref>
                <ejb-ref-name>ejb/ErpSale</ejb-ref-name>
                <ejb-ref-type>Entity</ejb-ref-type>
                <home>com.freshdirect.customer.ejb.ErpSaleHome</home>
                <remote>com.freshdirect.customer.ejb.ErpSaleEB</remote>
            </ejb-ref>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </session>
        
        <session>
            <ejb-name>ErpMonitor</ejb-name>
            <home>com.freshdirect.monitor.ejb.ErpMonitorHome</home>
            <remote>com.freshdirect.monitor.ejb.ErpMonitorSB</remote>
            <ejb-class>com.freshdirect.monitor.ejb.ErpMonitorSessionBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </session>
        
        <entity>
            <ejb-name>CrmAgent</ejb-name>
            <home>com.freshdirect.crm.ejb.CrmAgentHome</home>
            <remote>com.freshdirect.crm.ejb.CrmAgentEB</remote>
            <ejb-class>com.freshdirect.crm.ejb.CrmAgentEntityBean</ejb-class>
            <persistence-type>Bean</persistence-type>
            <prim-key-class>com.freshdirect.framework.core.PrimaryKey</prim-key-class>
            <reentrant>False</reentrant>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </entity>
        <entity>
            <ejb-name>CrmCase</ejb-name>
            <home>com.freshdirect.crm.ejb.CrmCaseHome</home>
            <remote>com.freshdirect.crm.ejb.CrmCaseEB</remote>
            <ejb-class>com.freshdirect.crm.ejb.CrmCaseEntityBean</ejb-class>
            <persistence-type>Bean</persistence-type>
            <prim-key-class>com.freshdirect.framework.core.PrimaryKey</prim-key-class>
            <reentrant>False</reentrant>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </entity>
        <session>
            <ejb-name>DlvPassManager</ejb-name>
            <home>com.freshdirect.deliverypass.ejb.DlvPassManagerHome</home>
            <remote>com.freshdirect.deliverypass.ejb.DlvPassManagerSB</remote>
            <ejb-class>com.freshdirect.deliverypass.ejb.DlvPassManagerSessionBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </session>		
        
        <session>
            <ejb-name>CrmManager</ejb-name>
            <home>com.freshdirect.crm.ejb.CrmManagerHome</home>
            <remote>com.freshdirect.crm.ejb.CrmManagerSB</remote>
            <ejb-class>com.freshdirect.crm.ejb.CrmManagerSessionBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <ejb-ref>
                <ejb-ref-name>ejb/CrmAgent</ejb-ref-name>
                <ejb-ref-type>Entity</ejb-ref-type>
                <home>com.freshdirect.crm.ejb.CrmAgentHome</home>
                <remote>com.freshdirect.crm.ejb.CrmAgentEB</remote>
            </ejb-ref>
            <ejb-ref>
                <ejb-ref-name>ejb/CrmCase</ejb-ref-name>
                <ejb-ref-type>Entity</ejb-ref-type>
                <home>com.freshdirect.crm.ejb.CrmCaseHome</home>
                <remote>com.freshdirect.crm.ejb.CrmCaseEB</remote>
            </ejb-ref>
            <ejb-ref>
                <ejb-ref-name>ejb/DlvPassManager</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <home>com.freshdirect.deliverypass.ejb.DlvPassManagerHome</home>
                <remote>com.freshdirect.deliverypass.ejb.DlvPassManagerSB</remote>
            </ejb-ref>
            
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </session>

        <session>
            <ejb-name>EnumManager</ejb-name>
            <home>com.freshdirect.enum.ejb.EnumManagerHome</home>
            <remote>com.freshdirect.enum.ejb.EnumManagerSB</remote>
            <ejb-class>com.freshdirect.enum.ejb.EnumManagerSessionBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </session>
		
	<session>
            <ejb-name>EventLogger</ejb-name>
            <home>com.freshdirect.event.ejb.EventLoggerHome</home>
            <remote>com.freshdirect.event.ejb.EventLoggerSB</remote>
            <ejb-class>com.freshdirect.event.ejb.EventLoggerSessionBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </session>

        <session>
            <ejb-name>RecommendationEventLogger</ejb-name>
            <home>com.freshdirect.event.ejb.RecommendationEventLoggerHome</home>
            <remote>com.freshdirect.event.ejb.RecommendationEventLoggerSB</remote>
            <ejb-class>com.freshdirect.event.ejb.RecommendationEventLoggerSessionBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </session>

        <session>
            <ejb-name>TestSupport</ejb-name>
            <home>com.freshdirect.test.ejb.TestSupportHome</home>
            <remote>com.freshdirect.test.ejb.TestSupportSB</remote>
            <ejb-class>com.freshdirect.test.ejb.TestSupportSessionBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <resource-ref>
                <res-ref-name>jdbc/dbpool</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>
        </session>

    </enterprise-beans>
    <assembly-descriptor>

        <!--
        ****************************
        *** Message Driven Beans ***
        ****************************
        -->
        <container-transaction>
          <method>
            <ejb-name>SapCommandListener</ejb-name>
            <method-name>*</method-name>
          </method>
          <method>
            <ejb-name>SapResultListener</ejb-name>
            <method-name>*</method-name>
          </method>
          <method>
            <ejb-name>MailMessageListener</ejb-name>
            <method-name>*</method-name>
          </method>
          <method>
            <ejb-name>PaymentMessageListener</ejb-name>
            <method-name>*</method-name>
          </method>
          <trans-attribute>Required</trans-attribute>
        </container-transaction>

        <!--
        *****************************
        *** Manager Session Beans ***
        *****************************
        -->
        <container-transaction>
            <method>
                <ejb-name>BatchManager</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <method>
                <ejb-name>ComplaintManager</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <method>
                <ejb-name>ErpCustomerManager</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
			<method>
                <ejb-name>PaymentManager</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <method>
                <ejb-name>DlvPassManager</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
          <trans-attribute>Required</trans-attribute>
        </container-transaction>
        
        <container-transaction>
            <method>
                <ejb-name>FraudManager</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
        <trans-attribute>Supports</trans-attribute>
        </container-transaction>

        <container-transaction>
            <method>
                <ejb-name>RestrictedPaymentMethod</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
        <trans-attribute>Supports</trans-attribute>
        </container-transaction>

        <!--
        **************************************
        *** Factory and Info Session Beans ***
        **************************************
        -->
        <container-transaction>
            <method>
                <ejb-name>AttributeFacade</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>storeAttributes</method-name>
            </method>
            <method>
                <ejb-name>ErpNutritionSessionBean</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>

        <container-transaction>
            <method>
                <ejb-name>FDFactory</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <method>
                <ejb-name>ErpInfo</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <method>
                <ejb-name>AttributeFacade</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>getAttributes</method-name>
            </method>
            <method>
                <ejb-name>ErpNutritionSessionBean</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>getNutrition</method-name>
            </method>
            <trans-attribute>Supports</trans-attribute>
        </container-transaction>

        <!--
        *****************************
        *** Customer Entity Beans ***
        *****************************
        -->
        <container-transaction>
            <method>
                <ejb-name>ErpCustomer</ejb-name>
                <method-intf>Home</method-intf>
                <method-name>*</method-name>
            </method>
            <method>
                <ejb-name>ErpCustomer</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <method>
                <ejb-name>ErpSale</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <method>
                <ejb-name>ErpSale</ejb-name>
                <method-intf>Home</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Supports</trans-attribute>
        </container-transaction>

        <!--
        ************************
        *** ERP Entity Beans ***
        ************************
        -->
        <container-transaction>
            <method>
                <ejb-name>ErpProduct</ejb-name>
                <method-intf>Home</method-intf>
                <method-name>*</method-name>
            </method>
            <method>
                <ejb-name>ErpProduct</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <method>
                <ejb-name>ErpMaterial</ejb-name>
                <method-intf>Home</method-intf>
                <method-name>*</method-name>
            </method>
            <method>
                <ejb-name>ErpMaterial</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <method>
                <ejb-name>ErpClass</ejb-name>
                <method-intf>Home</method-intf>
                <method-name>*</method-name>
            </method>
            <method>
                <ejb-name>ErpClass</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <method>
                <ejb-name>ErpCharacteristicValuePrice</ejb-name>
                <method-intf>Home</method-intf>
                <method-name>*</method-name>
            </method>
            <method>
                <ejb-name>ErpCharacteristicValuePrice</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Supports</trans-attribute>
        </container-transaction>

        <!--
        *****************************
        *** Inventory Entity Bean ***
        *****************************
        -->
        <container-transaction>
            <method>
                <ejb-name>ErpInventory</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Supports</trans-attribute>
        </container-transaction>

        <container-transaction>
            <method>
                <ejb-name>ErpInventory</ejb-name>
                <method-intf>Home</method-intf>
                <method-name>create</method-name>
            </method>
            <method>
                <ejb-name>ErpInventory</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>remove</method-name>
            </method>
            <method>
                <ejb-name>ErpInventory</ejb-name>
                <method-name>setFromModel</method-name>
            </method>
            <method>
                <ejb-name>ErpInventory</ejb-name>
                <method-name>setEntries</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>        

        <!--
        *****************************
        *** Gateway Session Beans ***
        *****************************
        -->
        <container-transaction>
            <method>
                <ejb-name>PaymentGateway</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <method>
                <ejb-name>SapGateway</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <method>
                <ejb-name>EnumManager</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <method>
                <ejb-name>MailerGateway</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        
        <container-transaction>
            <method>
                <ejb-name>SapGateway</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>checkAvailability</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>


        <!--
        ***************************
        *** Other Session Beans ***
        ***************************
        -->
        <container-transaction>
            <method>
                <ejb-name>Reconciliation</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <method>
                <ejb-name>ErpMonitor</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <method>
                <ejb-name>ActivityLog</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
			<method>
                <ejb-name>EventLogger</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>

        <container-transaction>
            <method>
                <ejb-name>ActivityLog</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>logActivityNewTX</method-name>
            </method>
            <trans-attribute>RequiresNew</trans-attribute>
        </container-transaction>


        <!--
            ************************
            *** CRM Entity Beans ***
            ************************
        -->
        <container-transaction>
            <method>
                <ejb-name>CrmAgent</ejb-name>
                <method-intf>Home</method-intf>
                <method-name>*</method-name>
            </method>
            <method>
                <ejb-name>CrmAgent</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <method>
                <ejb-name>CrmCase</ejb-name>
                <method-intf>Home</method-intf>
                <method-name>*</method-name>
            </method>
            <method>
                <ejb-name>CrmCase</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Supports</trans-attribute> 
        </container-transaction>
        
        <!-- 
            ************************
            *** CRM Session Bean ***
            ************************
        -->
        <container-transaction>
            <method>
                <ejb-name>CrmManager</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        
        <container-transaction>
            <method>
                <ejb-name>CrmManager</ejb-name>
                <method-intf>Remote</method-intf>
                <method-name>createSystemCaseInSingleTx</method-name>
            </method>
            <trans-attribute>RequiresNew</trans-attribute>
        </container-transaction>

    </assembly-descriptor>

</ejb-jar>
