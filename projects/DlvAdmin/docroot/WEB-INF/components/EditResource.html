<!-- generated by Spindle, http://spindle.sourceforge.net -->

<span jwcid="$content$">

<table width="100%">
    <tr bgcolor='dfdfdf'>
		<td nowrap><b></b></td>
        <span jwcid="@If" condition="ognl:showTotal">
			<td align="center" colspan="4" class="total"><b>Total</b></td>
        </span>
        <span jwcid="@If" condition="ognl:showBase">
			<td align="center" colspan="3" class="base"><b>Base</b></td>  
        </span>
        <span jwcid="@If" condition="ognl:showCT">
			<td align="center" colspan="2" class="ct" nowrap><b>Chef's Table</b></td>              
        </span>
	</tr>
	<tr bgcolor='dfdfdf'>
		<td nowrap><b>Start Time-End Time</b></td>
        <span jwcid="@If" condition="ognl:showTotal">
			<td align="center" class="total" nowrap><b>TF(%)</b></td>
   			<td class="total"><b>Cap</b></td>
			<td class="total"><b>Alloc</b></td>
			<td class="total"><b>Orders</b></td>
        </span>
        <span jwcid="@If" condition="ognl:showBase">
	   		<td class="base"><b>Cap</b></td>
			<td class="base"><b>Alloc</b></td>
			<td class="base" nowrap><b>Pre-Res</b></td>
        </span>
        <span jwcid="@If" condition="ognl:showCT">        
	   		<td class="ct"><b>Cap</b></td>
			<td class="ct"><b>Alloc</b></td>
        </span>
	</tr>
	<span jwcid="@Foreach" source="ognl:resource.timeslotsByStartDate" value="ognl:timeslot">
		<tr jwcid="anyTimeslotRow">
			<td nowrap><span jwcid="@Insert" value="ognl:timeslot.startTime"/> - <span jwcid="@Insert" value="ognl:timeslot.endTime" /><span jwcid="@If" condition="ognl:timeslot.isCTCapacityReleased(page.currentDate)"><font color="red"> (CT Capacity released)</font></span></td>
			<span jwcid="@If" condition="ognl:showTotal">
                <span jwcid="@If" condition="ognl:TotalEditable">
            		<td align="right"><input size="4" class="text10" jwcid="inputTrafficFactor" /></td>
		            <td nowrap align="right"><input size="4" class="text10" jwcid="inputCapacity"/><input type="submit" class="button" jwcid="@Submit" label="OW" listener="ognl:bindings.overrideListener.object"/></td>
                </span>
                <span jwcid="@Else">
            		<td align="right"><span jwcid="@Insert" value="ognl:timeslot.trafficFactor">30</span></td>
		            <td nowrap align="right"><span jwcid="@Insert" value="ognl:timeslot.capacity">10</span></td>
                </span>                    
					<td align="center" bgcolor="dfdfdf"><b><span jwcid="@Insert" value="ognl:timeslot.calculateCurrentAllocation(page.currentDate)"/></b></td>
					<td align="center" bgcolor="dfdfdf"><b><span jwcid="@Insert" value="ognl:timeslot.order"/></b></td>

			</span>	
	        <span jwcid="@If" condition="ognl:showBase">
 	        	<td align="center" bgcolor="dfdfdf"><b><span jwcid="@Insert" value="ognl:timeslot.baseCapacity">32</span></b></td>
				<td align="center" bgcolor="dfdfdf"><b><span jwcid="@Insert" value="ognl:timeslot.baseAllocation">32</span></b></td>
        	    <td align="center" bgcolor="dfdfdf"><b><span jwcid="@Insert" value="ognl:timeslot.preAllocation">32</span></b></td>
            </span>
            <span jwcid="@If" condition="ognl:showCT && timeslot.ctActive">
                <span jwcid="@If" condition="ognl:CTEditable">
					<td align="center" jwcid="@Any" bgcolor="ognl:timeslot.isCTCapacityReleased(page.currentDate)? 'red': 'dfdfdf'"><input class="text10" size="5" jwcid="inputCtCapacity"/><input type="submit" class="button" jwcid="@Submit" label="OW" listener="ognl:bindings.overrideListener.object"/></td>
                </span>
                <span jwcid="@Else">
                    <td align="center" jwcid="@Any" bgcolor="ognl:timeslot.isCTCapacityReleased(page.currentDate)? 'red': 'dfdfdf'"><b><span jwcid="@Insert" value="ognl:timeslot.chefsTableCapacity">32</span></b></td>
                </span>
				<td align="right" bgcolor="dfdfdf"><span jwcid="@Insert" value="ognl:timeslot.chefsTableAllocation" /></td>
            </span>
		
            
		</tr>
	</span>
</table>
<table width="100%">
    <span jwcid="@If" condition="ognl:showTotal ||showBase"> 
	<tr>
		<td><b>Drivers: </b></td>
        <span jwcid="@If" condition="ognl:TotalEditable">
			<td align="right"><input size="5" class="text10" jwcid="inputDrivers" /></td>
		</span>
        <span jwcid="@Else">            
            <td align="right"><span jwcid="@Insert" value="ognl:resource.people" /></td>
        </span>    
	</tr>
	<span jwcid="@Foreach" source="ognl:@com.freshdirect.delivery.EnumTruckType@getEnumList()" value="ognl:truckType">
		<tr>
			<td><b>Trucks: </b></td>
            <span jwcid="@If" condition="ognl:TotalEditable">
				<td align="right"><input class="text10" size="5" jwcid="inputTruckCount"/></td>
			</span>
        	<span jwcid="@Else">            
            	<td align="right"><span jwcid="@Insert" value="ognl:currentTruckAllocation.count" /></td>
        	</span>    
		</tr>
		<tr>
			<td><b>Orders per Truck: </b></td>
            <span jwcid="@If" condition="ognl:TotalEditable">
				<td align="right"><input class="text10" size="5" jwcid="inputTruckCapacity"/></td>
			</span>
        	<span jwcid="@Else">            
            	<td align="right"><span jwcid="@Insert" value="ognl:currentTruckAllocation.capacity" /></td>
        	</span>    
		</tr>
	</span>
	<tr>
		<td><b>Delivery Rate: </b></td>
	        <span jwcid="@If" condition="ognl:TotalEditable">
				<td align="right"><input size="5" class="text10" jwcid="inputDeliveryRate" /></td>
			</span>
        	<span jwcid="@Else">            
            	<td align="right"><span jwcid="@Insert" value="ognl:resource.deliveryRate" /></td>
        	</span>    
        
		
	</tr>
    </span>
	<tr>
		<td align="left"><input type="submit" class="button" jwcid="@Submit" label="Close" listener="ognl:bindings.cancelListener.object"/></td>
        <span jwcid="@If" condition="ognl:TotalEditable && (showTotal ||showBase)">
			<td align="right"><input type="submit" class="button" jwcid="@Submit" label="Update" listener="ognl:bindings.updateListener.object"/></td>
        </span>
	</tr>
</table>

</span>
