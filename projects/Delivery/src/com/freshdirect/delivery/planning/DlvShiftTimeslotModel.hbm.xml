<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
    "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
    "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping package="com.freshdirect.delivery.planning" schema="dlv">

	<typedef name="EnumTimeslotStatus" class="com.freshdirect.framework.hibernate.ValuedEnumUserType">
		<param name="enumClassName">com.freshdirect.delivery.EnumTimeslotStatus</param>
	</typedef>

    <class name="DlvShiftTimeslotModel" table="SHIFT_TIMESLOT">
        <id name="id" column="ID">
            <generator class="sequence">
            	<param name="sequence">SYSTEM_SEQ</param>
            </generator>
        </id>

        <property name="trafficFactor" column="TRAFFIC_FACTOR" type="double" not-null="true"/>
        <property name="status" column="STATUS" type="EnumTimeslotStatus" not-null="true"/>

     	<component name="startTime" class="com.freshdirect.framework.util.TimeOfDay"> 
        	<property name="normalDate" column="START_TIME" type="timestamp" not-null="true"/>
        </component>       
     	<component name="endTime" class="com.freshdirect.framework.util.TimeOfDay"> 
        	<property name="normalDate" column="END_TIME" type="timestamp" not-null="true"/>
        </component>       
     	<component name="cutoffTime" class="com.freshdirect.framework.util.TimeOfDay"> 
        	<property name="normalDate" column="CUTOFF_TIME" type="timestamp" not-null="true"/>
        </component>       

    </class>

</hibernate-mapping>