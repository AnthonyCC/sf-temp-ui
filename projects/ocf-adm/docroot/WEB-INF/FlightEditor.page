<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE page-specification PUBLIC
  "-//Apache Software Foundation//Tapestry Specification 3.0//EN"
  "http://jakarta.apache.org/tapestry/dtd/Tapestry_3_0.dtd">
<!-- generated by Spindle, http://spindle.sourceforge.net -->

<page-specification class="com.freshdirect.ocf.ui.page.FlightEditor">

    <description>add a description</description>
	
	<property-specification name="flight" type="com.freshdirect.ocf.core.Flight" persistent="yes"/>

	<property-specification name="action" type="com.freshdirect.ocf.core.ActionI"/>
	
	<property-specification name="actionType" type="java.lang.Class"/>
	
	<property-specification name="schedule" type="java.lang.String"/>
	
	<property-specification name="ix" type="java.lang.Integer"/>
	
	<bean name="evenOdd" class="org.apache.tapestry.bean.EvenOdd"/>
	
	<component id="name" type="ValidField">
		<static-binding name="displayName">Name</static-binding>
		<binding name="validator" expression="beans.requiredValidator"/>
		<binding name="value" expression="flight.name"/>
	</component>
    
    <component id="listName" type="ValidField">
		<static-binding name="displayName">List Name</static-binding>
		<binding name="validator" expression="beans.requiredValidator"/>
		<binding name="value" expression="flight.listGenerator.name"/>
	</component>

	<component id="listDescription" type="TextArea">
		<static-binding name="displayName">Description</static-binding>
		<binding name="value" expression="flight.listGenerator.description"/>
	</component>	
	
	<component id="listQuery" type="TextArea">
		<static-binding name="displayName">Query</static-binding>
		<static-binding name="rows">15</static-binding>
		<static-binding name="cols">35</static-binding>
		<binding name="value" expression="flight.listGenerator.query"/>
	</component>
	
	<component id="forEachAction" type="For">
		<binding name="source" expression="flight.actions"/>
		<binding name="value" expression="action"/>
		<binding name="index" expression="ix"/>
	</component>	
	
	<component id="schedules" type="PropertySelection">
		<binding name="value" expression="flight.scheduleName"/>
		<binding name="model" expression="scheduleSelectionModel"/>
	</component>

	<component id="storedQueries" type="PropertySelection">
		<binding name="value" expression="flight.listGenerator.storedQuery"/>
		<binding name="model" expression="storedQueriesSelectionModel"/>
	</component>	

	<bean name="delegate" class="org.apache.tapestry.valid.ValidationDelegate"/>
	
	<bean name="requiredValidator" class="org.apache.tapestry.valid.StringValidator">
	    <set-property name="clientScriptingEnabled" expression="true"/>
	    <set-property name="required" expression="true"/>
	</bean>
    
   	<bean name="numberValidator" class="org.apache.tapestry.valid.NumberValidator">
		<set-property name="valueType">'double'</set-property>
		<set-property name="clientScriptingEnabled" expression="false"/>
    	<set-property name="required" expression="false"/>
	</bean>
	
	<bean name="stringValidator" class="org.apache.tapestry.valid.StringValidator" />
    
</page-specification>
