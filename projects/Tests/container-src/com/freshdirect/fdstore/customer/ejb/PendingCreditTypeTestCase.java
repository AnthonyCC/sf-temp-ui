/**
 * @author ekracoff
 * Created on Oct 1, 2004*/

package com.freshdirect.fdstore.customer.ejb;

import java.rmi.RemoteException;
import java.util.Collection;
import java.util.Iterator;
import java.util.List;

import javax.ejb.FinderException;
import javax.naming.Context;
import javax.naming.NamingException;

import junit.framework.TestCase;

import com.freshdirect.TestUtil;
import com.freshdirect.customer.ErpComplaintModel;
import com.freshdirect.customer.ejb.ErpSaleEB;
import com.freshdirect.customer.ejb.ErpSaleHome;
import com.freshdirect.framework.core.PrimaryKey;

public class PendingCreditTypeTestCase extends TestCase{
	
	private Context ctx;
	private ErpSaleHome saleHome;
	private String[] sales = {"438661989","485673698","506858886","100000024","100000445","100000547","100000980","100001544","100003287",
							  "100003287","100003648","100004074","100004074","100004249","100005014","100005934","100006432","100006753",
							  "100008558","100009854","100010020","100011010","100011108","100011182","100011182","100011182","100011536",
							  "100012061","100012652","100013435","100013818","100014601","100015371","100016051","100016257","100016951",
							  "100017706","100018619","100019490","100019490","100019806","100019862","100020170","100020446","100020957",
							  "100021591","100022895","100023184","100023278","100023492","100024863","100025940","100026722","100027142",
							  "100027165","100028109","100028355","100028445","100028489","100028907","100029524","100030590","100030732",
							  "100030766","100031464","100032480","100032639","100032639","100033319","100066658","100065792","100034184",
							  "100034184","100034854","100034956","100035340","100035765","100036514","10003653","100037438","100038160",
							  "100038694","100039457","100039863","100041029","100041358","100041636","100041874","100041946","100042840",
							  "100043454","100043533","100043976","100045740","100046852","100047673","100047890","100048384","100048490",
							  "100049042","100049163","100049488","100050059","100050670","100050755","100050823","100050823","100050923",
							  "100050923","100050988","100051034","100051034","100051268","100051433","100052109","100052184","100052417",
							  "100054167","100054719","100055949","100056441","100057447","100058215","100058798","100059070","100059256",
							  "100059650","100059676","100060154","100060172","100060575","100060575","100060745","100060940","100061939",
							  "100062149","100063965","100064158","100064424","100064424","100064816","100064816","100065073","100065095",
							  "100066910","100067894","100069185","100070736","100072558","100073173","100073542","100073803","100073861",
							  "100167977",//"100073895","100073895","100074660","100075055","100075157","100075761","100076019","100076019",
							  "100076968","100077763","100077976","100078154","100078464","100078509","100079628","100080304","100080395",
							  "100080395","100080811","100080811","100080924","100081511","100081511","100081698","100081855","100082104",
							  "100082468","100082803","100082803","100083370","100083667","100083901","100084711","100084796","10008565",
							  "100086328","100086865","100087974","100088457","100088720","100090179","100090351","100090487","100090938",
							  "100091756","100091939","100092418","100092738","100093809","10010496","100119851","100127404","100128322",
							  "100128454","100128505","100129885","100129885","10013006","100130559","100130559","100130709","100131377",
							  "100134234","100138413","100141339","100141387","100144214","100154136","100162027","100164130","100164561"};
	
	public PendingCreditTypeTestCase(String testName) {
		super(testName);
	}

	protected void setUp() throws NamingException {
		this.ctx = TestUtil.getInitialContext();
		this.saleHome = (ErpSaleHome)ctx.lookup("freshdirect.erp.Sale");	
	}
	
	protected void tearDown() throws NamingException {
		ctx.close();
	}
	
	public void testComplaintType() throws RemoteException, FinderException {
		for(int idx = 0; idx < sales.length; idx++) {
			ErpSaleEB eb = this.saleHome.findByPrimaryKey(new PrimaryKey(sales[idx]));
			for (Iterator i = eb.getComplaints().iterator(); i.hasNext(); ){
				ErpComplaintModel complaint = (ErpComplaintModel) i.next();
				System.out.println(sales[idx]+" :: ComplaintMethod: " + complaint.getComplaintMethod() + " Type: " +complaint.getType().getValue());
				assertEquals(complaint.getComplaintMethod(), complaint.getType().getValue());
			}
			
		}
		
	}
	
}
