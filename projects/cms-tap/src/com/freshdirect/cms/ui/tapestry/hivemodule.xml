<?xml version="1.0"?>
<module id="com.freshdirect.cms.ui" version="1.0.0">

	<contribution configuration-id="tapestry.data.SqueezeAdaptors">
		<adaptor object="instance:com.freshdirect.cms.ui.tapestry.ContentKeySqueezeAdaptor" />
	</contribution>

	<contribution configuration-id="tapestry.services.ApplicationServices">
		<service name="xmlExport" object="service:XmlExportService" />
	</contribution>

	<service-point id="XmlExportService" interface="org.apache.tapestry.engine.IEngineService">
		<invoke-factory>
			<construct class="com.freshdirect.cms.ui.tapestry.XmlExportService">
				<set-object property="exceptionReporter" value="infrastructure:requestExceptionReporter" />
				<set-object property="response" value="infrastructure:response" />
				<set-object property="linkFactory" value="infrastructure:linkFactory" />
			</construct>
		</invoke-factory>
	</service-point>

</module>